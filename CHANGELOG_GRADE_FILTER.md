# ๐ ุชูุฑูุฑ ุงูุชุญุฏูุซุงุช - ุชุฎุตูุต ุตูุญุฉ ุงููุฑูุฒ ุงูุนุงูุฉ ุจูุงุกู ุนูู ุงูุตู ุงูุฏุฑุงุณู

## ๐ ุงูุชุงุฑูุฎ
2026-01-21

## ๐ฏ ุงููุฏู ูู ุงูุชุญุฏูุซ
ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูู ุตูุญุฉ ุงููุฑูุฒ ุงูุนุงูุฉ ูู ุฎูุงู:
- ูุฑุถ ุงุฎุชูุงุฑ ุงูุตู ุงูุฏุฑุงุณู ูุจู ุนุฑุถ ุงููุญุชูู
- ุชุฎุตูุต ุฌุฏูู ุงูุญุตุต ูุงููุฏุฑุณูู ุญุณุจ ุงูุตู ุงููุฎุชุงุฑ
- ุญูุธ ุงุฎุชูุงุฑ ุงููุณุชุฎุฏู ููุฒูุงุฑุงุช ุงููุงุฏูุฉ
- ุชุญุณูู ุชุฌุฑุจุฉ ุงูุชุตูุญ ูุงูุชููู

## โ ุงูุชุญุฏูุซุงุช ุงููููุฐุฉ

### 1๏ธโฃ ูุธุงู ุงุฎุชูุงุฑ ุงูุตู ุงูุฏุฑุงุณู

#### โจ ุญูู ุงุฎุชูุงุฑ ุงูุตู (Grade Selector)
**ุงููููุน:** ุฃุนูู ุงูุตูุญุฉ ูุจุงุดุฑุฉ ุจุนุฏ Hero Section

**ุงููููุฒุงุช:**
- ๐ **ูููุน ุซุงุจุช (Sticky)** ูุจูู ุธุงูุฑุงู ุนูุฏ ุงูุชูุฑูุฑ
- ๐จ **ุชุตููู ุจุงุฑุฒ ููุงุถุญ** ูุน ุฃููููุฉ GraduationCap
- ๐ฑ **ูุชุฌุงูุจ ุชูุงูุงู:**
  - ุดุงุดุงุช ุตุบูุฑุฉ: ุนุฑุถ ูุงูู ุจุชูุณูู ุนููุฏู
  - ุดุงุดุงุช ูุจูุฑุฉ: ุชูุณูู ุฃููู ุฃููู
- ๐ **ุนุฏุงุฏ ูุจุงุดุฑ:** ูุนุฑุถ ุนุฏุฏ ุงูุญุตุต ูุงููุฏุฑุณูู ููุตู ุงููุฎุชุงุฑ

**ุงูููุฏ:**
```tsx
<div className="bg-card border-b border-border sticky top-0 z-10 shadow-sm">
  <div className="container py-4">
    <div className="flex flex-col sm:flex-row items-start sm:items-center gap-4">
      <div className="flex items-center gap-2">
        <GraduationCap className="h-5 w-5 text-primary" />
        <label className="font-semibold">ุงุฎุชุฑ ุงูุตู ุงูุฏุฑุงุณู:</label>
      </div>
      <Select value={selectedGrade || ""} onValueChange={handleGradeChange}>
        {/* ... */}
      </Select>
      <Badge variant="secondary">
        {filteredSessions.length} ุญุตุฉ โข {filteredTeachers.length} ูุฏุฑุณ
      </Badge>
    </div>
  </div>
</div>
```

### 2๏ธโฃ ูุฑุถ ุงุฎุชูุงุฑ ุงูุตู ุนูุฏ ุฃูู ุฒูุงุฑุฉ

#### ๐ซ ููุน ุนุฑุถ ุงููุญุชูู ูุจู ุงูุงุฎุชูุงุฑ
**ุงูุณููู:**
- ุนูุฏ ุฃูู ุฒูุงุฑุฉ: ูุธูุฑ ุดุงุดุฉ ุชุฑุญูุจ ุฌุฐุงุจุฉ ุชุทูุจ ุงุฎุชูุงุฑ ุงูุตู
- ูุง ูุชู ุนุฑุถ:
  - ุฌุฏูู ุงูุญุตุต
  - ูุงุฆูุฉ ุงููุฏุฑุณูู
  - ุฃู ูุญุชูู ูุฎุตุต

**ุดุงุดุฉ ุงูุชุฑุญูุจ:**
```tsx
<div className="flex flex-col items-center justify-center py-20">
  <div className="bg-card rounded-2xl border p-8 max-w-md text-center shadow-lg">
    <GraduationCap className="h-16 w-16 mx-auto mb-4 text-primary" />
    <h2 className="text-2xl font-bold mb-3">ูุฑุญุจุงู ุจู!</h2>
    <p className="text-muted-foreground mb-6">
      ูุนุฑุถ ุฌุฏูู ุงูุญุตุต ูุงููุฏุฑุณููุ ูุฑุฌู ุงุฎุชูุงุฑ ุงูุตู ุงูุฏุฑุงุณู ูู ุงููุงุฆูุฉ ุฃุนูุงู
    </p>
    <div className="bg-muted/50 rounded-lg p-4">
      <p className="font-medium mb-2">๐ก ููุญูุธุฉ:</p>
      <p>ุณูุชู ุญูุธ ุงุฎุชูุงุฑู ููุฒูุงุฑุงุช ุงููุงุฏูุฉ</p>
    </div>
  </div>
</div>
```

### 3๏ธโฃ ุญูุธ ุงูุตู ุงูุฏุฑุงุณู ูู ุงููุชุตูุญ

#### ๐พ localStorage Integration
**ุงูููุชุงุญ:** `center_${centerId}_selected_grade`

**ุงูุขููุฉ:**
```tsx
// ุญูุธ ุนูุฏ ุงูุงุฎุชูุงุฑ
const handleGradeChange = (grade: string) => {
  setSelectedGrade(grade);
  setGradeSelectionRequired(false);
  localStorage.setItem(STORAGE_KEY, grade);
};

// ุชุญููู ุนูุฏ ุงูุฏุฎูู
useEffect(() => {
  if (centerData && centerData.grades && centerData.grades.length > 0) {
    const savedGrade = localStorage.getItem(STORAGE_KEY);
    
    // ุงูุชุญูู ูู ุตุญุฉ ุงูุตู ุงููุญููุธ
    if (savedGrade && centerData.grades.includes(savedGrade)) {
      setSelectedGrade(savedGrade);
      setGradeSelectionRequired(false);
    }
  }
}, [centerData]);
```

**ุงูููุงุฆุฏ:**
- โ ุชุฎุทู ุดุงุดุฉ ุงูุงุฎุชูุงุฑ ูู ุงูุฒูุงุฑุงุช ุงููุงุฏูุฉ
- โ ุชุญุฏูุฏ ุชููุงุฆู ููุตู ุงููุญููุธ
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช (ุงูุตู ูุฏ ูุชู ุญุฐูู ูู ุงููุฑูุฒ)

### 4๏ธโฃ ุชุตููุฉ ุงููุญุชูู ุญุณุจ ุงูุตู

#### ๐ ุชุตููุฉ ุฐููุฉ ุจุงุณุชุฎุฏุงู useMemo

**ุชุตููุฉ ุงูุญุตุต:**
```tsx
const filteredSessions = useMemo(() => {
  if (!selectedGrade) return [];
  return sessions.filter(session => session.grade === selectedGrade);
}, [sessions, selectedGrade]);
```

**ุชุตููุฉ ุงููุฏุฑุณูู:**
```tsx
const filteredTeachers = useMemo(() => {
  if (!selectedGrade) return [];
  return teachers.filter(teacher => teacher.grade === selectedGrade);
}, [teachers, selectedGrade]);
```

**ุงูุฃุฏุงุก:**
- โก ุฅุนุงุฏุฉ ุญุณุงุจ ููุท ุนูุฏ ุชุบููุฑ ุงูุตู ุฃู ุงูุจูุงูุงุช
- ๐ ุชุฌูุจ ุฅุนุงุฏุฉ ุงูุชุตููุฉ ุบูุฑ ุงูุถุฑูุฑูุฉ
- ๐ช ุฃุฏุงุก ููุชุงุฒ ุญุชู ูุน ุจูุงูุงุช ูุจูุฑุฉ

### 5๏ธโฃ ุชุญุฏูุซ ููุฑู ูููุญุชูู

#### ๐ ุชุญุฏูุซ ุฏููุงูููู ุนูุฏ ุชุบููุฑ ุงูุตู

**ูู ูุณู ุฌุฏูู ุงูุญุตุต:**
```tsx
<TabsContent value="timetable">
  {selectedGrade ? (
    filteredSessions.length > 0 ? (
      <TimetableCalendar
        sessions={filteredSessions}  // โ ูุตูู ุญุณุจ ุงูุตู
        teachers={filteredTeachers}
      />
    ) : (
      <div>ูุง ููุฌุฏ ุญุตุต ููุตู: {selectedGrade}</div>
    )
  ) : (
    <div>ูุฑุฌู ุงุฎุชูุงุฑ ุงูุตู ุงูุฏุฑุงุณู ุฃููุงู</div>
  )}
</TabsContent>
```

**ูู ูุณู ุงููุฏุฑุณูู:**
```tsx
<TabsContent value="teachers">
  {selectedGrade ? (
    filteredTeachers.length > 0 ? (
      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
        {filteredTeachers.map(teacher => (
          <TeacherCard key={teacher.id} teacher={teacher} />
        ))}
      </div>
    ) : (
      <div>ูุง ููุฌุฏ ูุฏุฑุณูู ููุตู: {selectedGrade}</div>
    )
  ) : (
    <div>ูุฑุฌู ุงุฎุชูุงุฑ ุงูุตู ุงูุฏุฑุงุณู ุฃููุงู</div>
  )}
</TabsContent>
```

### 6๏ธโฃ ุชุญุณููุงุช ุฅุถุงููุฉ ุนูู ูุงุฌูุฉ ุงููุณุชุฎุฏู

#### โจ ูู ูุณู "ุนู ุงููุฑูุฒ"

**ุงูุตููู ุงูุฏุฑุงุณูุฉ ูุฃุฒุฑุงุฑ ุชูุงุนููุฉ:**
```tsx
<div className="flex flex-wrap gap-2">
  {centerData.grades.map((grade) => (
    <Badge 
      key={grade} 
      variant={grade === selectedGrade ? "default" : "outline"} 
      className="cursor-pointer hover:bg-primary/10 transition-colors"
      onClick={() => handleGradeChange(grade)}
    >
      {grade}
      {grade === selectedGrade && " โ"}
    </Badge>
  ))}
</div>
```

**ุงูููุฒุงุช:**
- ๐ฏ **ุงูุตู ุงููุฎุชุงุฑ** ูุธูุฑ ุจุชุตููู ูููุฒ (variant="default")
- โ **ุนูุงูุฉ ุตุญ** ุจุฌุงูุจ ุงูุตู ุงููุฎุชุงุฑ
- ๐ฑ๏ธ **ูุงุจู ููููุฑ** ูุชุบููุฑ ุงูุตู ูุจุงุดุฑุฉ
- ๐จ **ุชุฃุซูุฑ hover** ุฌุฐุงุจ

#### ๐ ูู ุงูุฅุญุตุงุฆูุงุช

**ุฅุถุงูุฉ ุฅุญุตุงุฆูุฉ ุฏููุงููููุฉ:**
```tsx
{selectedGrade && (
  <div className="flex items-center justify-between">
    <span className="text-muted-foreground">ูุฏุฑุณู {selectedGrade}</span>
    <span className="font-bold text-primary">{filteredTeachers.length}</span>
  </div>
)}
```

### 7๏ธโฃ ูุนุงูุฌุฉ ุงูุญุงูุงุช ุงูุฎุงุตุฉ

#### ๐ก๏ธ ุงูุญุงูุงุช ุงููุนุงูุฌุฉ:

**1. ูุง ุชูุฌุฏ ุตููู ูุณุฌูุฉ ูู ุงููุฑูุฒ:**
```tsx
if (centerData && (!centerData.grades || centerData.grades.length === 0)) {
  setGradeSelectionRequired(false);
}
```
- โ ูุง ููุทูุจ ูู ุงููุณุชุฎุฏู ุงุฎุชูุงุฑ ุตู
- โ ูุชู ุนุฑุถ ุฌููุน ุงูุจูุงูุงุช ูุจุงุดุฑุฉ

**2. ุงูุตู ุงููุญููุธ ุชู ุญุฐูู:**
```tsx
if (savedGrade && centerData.grades.includes(savedGrade)) {
  // ุงุณุชุฎุฏุงู ุงูุตู ุงููุญููุธ
} else {
  // ุทูุจ ุงุฎุชูุงุฑ ุฌุฏูุฏ
  setGradeSelectionRequired(true);
}
```

**3. ูุง ุชูุฌุฏ ุญุตุต ููุตู ุงููุฎุชุงุฑ:**
```tsx
<div className="text-center py-12">
  <Clock className="h-12 w-12 mx-auto mb-3 opacity-20" />
  <p>ูุง ููุฌุฏ ุญุตุต ูุชุงุญุฉ ููุตู ุงูุฏุฑุงุณู: {selectedGrade}</p>
</div>
```

**4. ูุง ููุฌุฏ ูุฏุฑุณูู ููุตู ุงููุฎุชุงุฑ:**
```tsx
<div className="text-center py-12">
  <Users className="h-12 w-12 mx-auto mb-3 opacity-20" />
  <p>ูุง ููุฌุฏ ูุฏุฑุณูู ููุตู ุงูุฏุฑุงุณู: {selectedGrade}</p>
</div>
```

## ๐ฑ ุงูุชุฌุงูุจ (Responsive Design)

### ุงูุดุงุดุงุช ุงูุตุบูุฑุฉ (Mobile)
```tsx
<div className="flex flex-col sm:flex-row items-start sm:items-center gap-4">
  {/* ุนููุฏู ูู ุงูููุจุงููุ ุฃููู ูู ุงูุดุงุดุงุช ุงููุจูุฑุฉ */}
</div>

<Select>
  <SelectTrigger className="w-full sm:w-64">
    {/* ุนุฑุถ ูุงูู ูู ุงูููุจุงููุ 64 ูู ุงูุดุงุดุงุช ุงููุจูุฑุฉ */}
  </SelectTrigger>
</Select>
```

### ุงูุดุงุดุงุช ุงููุจูุฑุฉ (Desktop)
- โ ุชูุณูู ุฃููู ุฃููู
- โ ุงุณุชุฎุฏุงู ุฃูุซู ูููุณุงุญุฉ
- โ ุญูู ุงุฎุชูุงุฑ ุจุนุฑุถ ูุญุฏุฏ (w-64)

## ๐ฏ ูุนุงููุฑ ุงููุจูู ุงููุญููุฉ

| ุงููุนูุงุฑ | ุงูุญุงูุฉ |
|---------|---------|
| โ ูุง ูุชู ุนุฑุถ ุงูุญุตุต/ุงููุฏุฑุณูู ูุจู ุงุฎุชูุงุฑ ุงูุตู | โ ูุญูู |
| ๐พ ุญูุธ ุงูุตู ูู ุงููุชุตูุญ | โ ูุญูู |
| ๐ ุชุญุฏูุฏ ุชููุงุฆู ูู ุงูุฒูุงุฑุงุช ุงููุงุฏูุฉ | โ ูุญูู |
| ๐ ุชุตููุฉ ุฌุฏูู ุงูุญุตุต | โ ูุญูู |
| ๐จโ๐ซ ุชุตููุฉ ุงููุฏุฑุณูู | โ ูุญูู |
| ๐ ุฅููุงููุฉ ุชุบููุฑ ุงูุตู ูู ุฃู ููุช | โ ูุญูู |
| ๐ ุญูู ุงูุงุฎุชูุงุฑ ูู ููุงู ูุงุถุญ | โ ูุญูู |
| ๐ฑ ุงูุชุตููู ูุชุฌุงูุจ | โ ูุญูู |

## ๐ ุงูููุงุฆุฏ ุงููุญููุฉ

### โจ ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
1. **ูุถูุญ ุฃูุจุฑ:** ุงููุญุชูู ูุฎุตุต ุญุณุจ ุงุญุชูุงุฌุงุช ุงููุณุชุฎุฏู
2. **ุชูููู ุงูููุถู:** ุนุฏู ุนุฑุถ ุจูุงูุงุช ุบูุฑ ุฐุงุช ุตูุฉ
3. **ุณูููุฉ ุงูุชุตูุญ:** ุญูุธ ุงูุงุฎุชูุงุฑ ูููุฑ ุงูููุช
4. **ุชูุงุนููุฉ ุฃูุถู:** ุชุญุฏูุซ ููุฑู ูููุญุชูู

### ๐ง ุชุญุณูู ุงูููุฏ
1. **ุฃุฏุงุก ูุญุณูู:** ุงุณุชุฎุฏุงู `useMemo` ููุชุตููุฉ
2. **ููุฏ ูุธูู:** ูุตู ุงูููุทู ุนู ุงูุนุฑุถ
3. **ูุงุจู ููุตูุงูุฉ:** ุณูููุฉ ุงูุชุนุฏูู ูุงูุชุทููุฑ

### ๐จ ุชุญุณูู ุงูุชุตููู
1. **ุชุตููู ุญุฏูุซ:** ุงุณุชุฎุฏุงู Sticky positioning
2. **ุนูุงุตุฑ ุชูุงุนููุฉ:** ุฃุฒุฑุงุฑ ูุนุฏุงุฏุงุช ุฏููุงููููุฉ
3. **ุชุฌุฑุจุฉ ุจุตุฑูุฉ:** ุฑุณุงุฆู ูุงุถุญุฉ ูุฃููููุงุช ูุนุจุฑุฉ

## ๐ ุงูุชูุงุตูู ุงูุชูููุฉ

### State Management
```tsx
const [selectedGrade, setSelectedGrade] = useState<string | null>(null);
const [gradeSelectionRequired, setGradeSelectionRequired] = useState(true);
```

### localStorage Key Format
```tsx
const STORAGE_KEY = `center_${identifier}_selected_grade`;
```

### Performance Optimization
- โ `useMemo` ููุชุตููุฉ
- โ `useEffect` ูุญุฏูุฏ ููุชุญููู ุงูุฃููู ููุท
- โ ุชุญุฏูุซ ุงูุชูุงุฆู ููู state

## ๐ ุณูุฑ ุงูุนูู (Flow)

### ุงูุฒูุงุฑุฉ ุงูุฃููู:
1. ุชุญููู ุจูุงูุงุช ุงููุฑูุฒ
2. ุงูุชุญูู ูู localStorage โ ูุง ููุฌุฏ ุตู ูุญููุธ
3. `gradeSelectionRequired = true`
4. ุนุฑุถ ุดุงุดุฉ ุงูุชุฑุญูุจ
5. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุตู
6. ุญูุธ ูู localStorage
7. ุนุฑุถ ุงููุญุชูู ุงููุตูู

### ุงูุฒูุงุฑุงุช ุงููุงุญูุฉ:
1. ุชุญููู ุจูุงูุงุช ุงููุฑูุฒ
2. ุงูุชุญูู ูู localStorage โ ููุฌุฏ ุตู ูุญููุธ
3. ุงูุชุญูู ูู ุตุญุฉ ุงูุตู
4. `gradeSelectionRequired = false`
5. `selectedGrade = savedGrade`
6. ุนุฑุถ ุงููุญุชูู ูุจุงุดุฑุฉ

### ุชุบููุฑ ุงูุตู:
1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุตู ุฌุฏูุฏ
2. `handleGradeChange(newGrade)`
3. ุชุญุฏูุซ `selectedGrade`
4. ุชุญุฏูุซ localStorage
5. ุฅุนุงุฏุฉ ุญุณุงุจ `filteredSessions` ู `filteredTeachers`
6. ุชุญุฏูุซ ุงูุนุฑุถ ุชููุงุฆูุงู

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

1. โ `src/pages/CenterPage.tsx` - ุชู ุฅุนุงุฏุฉ ูุชุงุจุชูุง ุจุงููุงูู

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชูููุฐ ุฌููุน ุงููุชุทูุจุงุช ุจูุฌุงุญ! ุตูุญุฉ ุงููุฑูุฒ ุงูุนุงูุฉ ุงูุขู:
- โจ **ุฃูุซุฑ ุชุฎุตูุตุงู** ูููุณุชุฎุฏููู
- ๐ฏ **ุฃูุซุฑ ูุถูุญุงู** ูู ุนุฑุถ ุงููุนูููุงุช
- ๐ **ุฃุณุฑุน** ูู ุงูุชุตูุญ ูุงูุงุณุชุฎุฏุงู
- ๐ช **ุฃูุถู ุฃุฏุงุกู** ูุน ุงุณุชุฎุฏุงู ุฃูุซู ููููุงุฑุฏ
- ๐ฑ **ูุชุฌุงูุจุฉ ุชูุงูุงู** ูุน ุฌููุน ุงูุฃุฌูุฒุฉ

---
**ุชู ุฅุนุฏุงุฏ ูุฐุง ุงูุชูุฑูุฑ ุจูุงุณุทุฉ:** Antigravity AI
**ุงูุชุงุฑูุฎ:** 2026-01-21
